의상검색 기능 업데이트 안내

안녕하세요, RO 마켓 크롤러 개발자 티포니입니다.

의상 노점 검색 기능이 추가되었습니다. 그동안 의상 노점 정보를 확인하기 어려웠던 부분을 개선하기 위해 만든 기능입니다.


========================================
 의상검색 기능
========================================

■ 의상검색이란?

gnjoy 사이트(ro.gnjoy.com)에서 현재 노점에 올라온 의상 아이템을 수집하고, 수집된 데이터를 내 PC에서 검색할 수 있는 기능입니다.

의상검색은 수집 → 검색 두 단계로 동작합니다.

---

■ 1단계: 데이터 수집

의상검색 탭에서 서버를 선택하고 "수집 시작" 버튼을 누르면, gnjoy에 등록된 의상 노점 정보를 페이지별로 수집합니다.

- 한 페이지(의상 10개)마다 목록 1회 + 상세정보 10회를 요청합니다
- 요청 사이에 간격을 두어 gnjoy 서버에 부담을 주지 않도록 합니다
- 의상이 1,000개라면 약 100페이지, 총 약 25분 정도 소요됩니다
- 수집 진행률과 예상 완료 시간이 화면에 표시됩니다

---

■ 2단계: 로컬 검색

수집이 완료되면, 인터넷 연결 없이 내 PC에서 바로 검색할 수 있습니다.

- 아이템명으로 검색 (예: "천사의 날개")
- 스톤/인챈트로 검색 (예: "명궁")
- 가격 범위 지정 (최소~최대)
- 검색 결과에서 유형(판매/구매), 아이템명, 스톤/인챈트, 수량, 가격, 상점명을 확인할 수 있습니다

---

■ 수집 중단 시 이어하기

수집 도중 프로그램을 종료하거나 다른 탭으로 이동해도, 이어서 수집할 수 있습니다.

- 다시 "수집 시작"을 누르면 "이전 수집을 이어서 진행하시겠습니까?" 라고 묻습니다
- "이어서 수집"을 선택하면 중단된 페이지부터 이어서 수집합니다
- 단, 마지막 수집 후 1시간 이상 지났다면 처음부터 수집하는 것을 권장합니다

※ 의상검색은 빠른 정보 갱신보다 안정적인 동작을 우선으로 설계되었습니다. 요청 속도를 높이면 차단 위험이 커지기 때문에, 시간이 걸리더라도 안전하게 수집합니다.

---

■ 왜 웹 사이트가 아닌 프로그램인가요?

의상 검색을 웹 사이트로 제공하려면, 서버 한 대가 gnjoy에 주기적으로 요청을 보내서 데이터를 수집해야 합니다. 그런데 한 번 수집에 약 25분이 걸리기 때문에, 갱신 주기를 짧게 잡으면 이전 수집이 끝나기도 전에 다음 수집이 시작되어야 합니다. 요청 간격을 줄이면 차단, 간격을 유지하면 수집된 데이터의 최신화가 어렵다는 딜레마에 빠집니다.

과거에 의상 노점 검색을 제공했던 웹 사이트들이 서비스를 중단한 것도 이런 요청 제한 문제가 원인이었을 가능성이 있습니다.

이 프로그램은 각자의 PC에서 직접 요청을 보내는 방식이라, 서버 한 곳에 요청이 집중되는 문제를 피할 수 있습니다. 수집에 시간이 걸리는 점은 양해 부탁드립니다.


========================================
 프로그램 동작 방식
========================================

■ 이 프로그램은 어떻게 동작하나요?

이 프로그램은 여러분의 컴퓨터에서 직접 gnjoy 사이트(ro.gnjoy.com)에 검색 요청을 보내서 아이템 정보를 가져옵니다. 쉽게 말해, 여러분이 웹 브라우저에서 gnjoy 사이트를 검색하는 것과 같은 방식입니다.

왜 이게 중요한가요?

gnjoy 서버 입장에서는 이 프로그램이 보내는 요청이 여러분의 인터넷 주소(IP)에서 오는 것으로 인식됩니다. 따라서 짧은 시간에 너무 많은 검색을 하면, gnjoy 측에서 여러분의 인터넷 주소를 일시적으로 차단할 수 있습니다.

차단되면 이 프로그램뿐만 아니라, 같은 인터넷을 사용하는 웹 브라우저에서도 gnjoy 아이템 검색이 안 될 수 있습니다.

※ gnjoy 아이템 검색만 차단되며, 게임 접속이나 다른 서비스에는 영향이 없습니다.

---

■ 한 번에 하나의 기능만 동작

노점조회, 모니터링, 의상검색 기능은 동시에 실행되지 않습니다. 다른 탭으로 이동하면 기존 작업이 자동으로 중지됩니다. 이는 동시에 여러 요청이 몰리는 것을 방지하기 위한 설계입니다.

※ 아이템 탭은 별도의 사이트(kafra.kr)를 사용하므로, 아이템 탭으로 이동할 때는 다른 작업이 중지되지 않습니다.

---

■ 검색 속도 조절

프로그램은 gnjoy 사이트에 요청을 보낼 때 일정한 간격을 두고 보냅니다. 한꺼번에 빠르게 보내지 않고 천천히 보내서 차단 위험을 줄입니다.

노점조회 예시:
- "사과" 검색 → 목록조회 1회로 검색 결과 목록을 가져옴
- 목록에 10개 결과가 있다면 → 각 아이템의 상세조회를 1초 간격으로 10회 요청
- 즉, 검색 1회당 총 11회 요청 (목록 1회 + 상세 10회), 약 10초 소요
- 결과가 30개면 총 31회 요청, 약 30초 소요

의상 데이터 수집 예시:
- 전체 의상 목록조회를 한 페이지씩 가져옴 (페이지당 10개)
- 각 페이지 안의 아이템마다 상세조회를 1초 간격으로 요청
- 즉, 1페이지당 총 11회 요청 (목록 1회 + 상세 10회), 약 10초 소요
- 1000개의 의상이 있다면 약 100페이지, 총 약 1,100회 요청, 약 25분 소요

※ gnjoy 측에서 요청 제한 기준을 강화할 경우, 프로그램도 요청 간격을 늘려야 하므로 수집 시간이 더 길어질 수 있습니다. 또한 이러한 변경은 사전 공지 없이 이루어질 수 있어, 현재 정상 동작하더라도 갑자기 차단이 발생할 수 있습니다.

---

■ 차단 감지 시 24시간 자동 잠금

gnjoy 사이트에서 요청을 거부하면, 프로그램은 24시간 동안 모든 gnjoy 관련 기능을 자동으로 잠급니다. 이는 추가 요청으로 차단이 더 길어지는 것을 방지하기 위한 조치입니다.

- 잠금 상태는 프로그램을 껐다 켜도 유지됩니다
- 잠금이 해제되는 시간이 화면에 표시됩니다
- 24시간이 지나면 자동으로 다시 사용할 수 있습니다

왜 24시간이나 잠그나요?

개발 과정에서 차단이 발생한 뒤 대기 시간이 지났다고 판단하여 다시 요청을 보냈더니, 그 요청 자체가 추가 시도로 인식되어 차단이 계속 연장된 경험이 있었습니다. 결국 24시간 동안 gnjoy 아이템 검색을 사용하지 못했습니다.

이런 상황을 방지하기 위해, 차단이 감지되면 충분한 시간 동안 요청을 완전히 멈추도록 설계했습니다. 조금 불편하더라도, 충분히 기다린 뒤 사용하는 것이 더 안전합니다.


========================================
 사용 시 참고사항
========================================

- 프로그램을 여러 개 동시에 실행하지 마세요. 요청이 두 배로 늘어나 차단 위험이 높아집니다.
- 모니터링 자동갱신 주기는 너무 짧게 설정하지 마세요. 5분 이상을 권장합니다.
- 의상 데이터 수집 중에는 다른 gnjoy 관련 기능 사용을 자제해 주세요. 수집이 끝난 뒤 사용하면 더 안전합니다.
- 차단이 발생하면 조급해하지 마세요. 24시간 후 자동으로 풀립니다. 차단 중에 반복 시도하면 차단이 더 길어질 수 있습니다.


========================================
 배포 관련 안내
========================================

본 프로그램은 곰곰2Q 님의 팬카페를 통해 공유되고 있으며, 게시 승인을 받았습니다. 단, 곰곰2Q 님은 본 프로그램의 개발 및 운영과 어떠한 연관도 없으며, 본 프로그램의 사용으로 인해 발생하는 문제에 대해 법적 책임을 포함한 어떠한 책임도 지지 않습니다.

프로그램 관련 문의는 개발자에게 직접 연락해 주세요.


========================================

문의사항은 카카오톡 오픈프로필로 연락 부탁드립니다.
감사합니다.
