# RO 마켓 크롤러 사용 안내

## 1. 이 프로그램은 어떻게 동작하나요?

이 프로그램은 **여러분의 컴퓨터에서 직접** gnjoy 사이트(ro.gnjoy.com)에 검색 요청을 보내서 아이템 정보를 가져옵니다. 쉽게 말해, 여러분이 웹 브라우저에서 gnjoy 사이트를 검색하는 것과 같은 방식입니다.

**왜 이게 중요한가요?**

gnjoy 서버 입장에서는 이 프로그램이 보내는 요청이 **여러분의 인터넷 주소(IP)에서 오는 것**으로 인식됩니다. 따라서 짧은 시간에 너무 많은 검색을 하면, gnjoy 측에서 **여러분의 인터넷 주소를 일시적으로 차단**할 수 있습니다.

차단되면 이 프로그램뿐만 아니라, **같은 인터넷을 사용하는 웹 브라우저에서도 gnjoy 아이템 검색이 안 될 수 있습니다.**

> 참고: gnjoy 아이템 검색만 차단되며, 게임 접속이나 다른 서비스에는 영향이 없습니다.

---

## 2. 차단을 방지하기 위해 프로그램이 하는 일

### 한 번에 하나의 기능만 동작

노점조회, 모니터링, 의상검색 기능은 **동시에 실행되지 않습니다.** 다른 탭으로 이동하면 기존 작업이 자동으로 중지됩니다. 이는 동시에 여러 요청이 몰리는 것을 방지하기 위한 설계입니다.

> 참고: 아이템 탭은 별도의 사이트(kafra.kr)를 사용하므로, 아이템 탭으로 이동할 때는 다른 작업이 중지되지 않습니다.

### 검색 속도 조절

프로그램은 gnjoy 사이트에 요청을 보낼 때 **일정한 간격을 두고** 보냅니다. 한꺼번에 빠르게 보내지 않고 천천히 보내서 차단 위험을 줄입니다.

**노점조회 예시:**
- "사과" 검색 → **목록조회** 1회로 검색 결과 목록을 가져옴
- 목록에 10개 결과가 있다면 → 각 아이템의 **상세조회**를 **1초 간격**으로 10회 요청
- 즉, 검색 1회당 총 11회 요청 (목록 1회 + 상세 10회), 약 10초 소요
- 결과가 30개면 총 31회 요청, 약 30초 소요

**의상 데이터 수집 예시:**
- 전체 의상 **목록조회**를 한 페이지씩 가져옴 (페이지당 10개)
- 각 페이지 안의 아이템마다 **상세조회**를 **1초 간격**으로 요청
- 첫 수집: 1페이지당 총 11회 요청 (목록 1회 + 상세 10회), 약 10초 소요 → 전체 약 54분
- 두 번째 이후: 이전에 수집한 아이템의 상세정보를 기억하고, 새로 올라온 아이템만 상세요청 → 전체 약 6분

> gnjoy 측에서 요청 제한 기준을 강화할 경우, 프로그램도 요청 간격을 늘려야 하므로 수집 시간이 더 길어질 수 있습니다. 또한 이러한 변경은 사전 공지 없이 이루어질 수 있어, 현재 정상 동작하더라도 갑자기 차단이 발생할 수 있습니다.

### 차단 감지 시 24시간 자동 잠금

gnjoy 사이트에서 요청을 거부하면, 프로그램은 **24시간 동안 모든 gnjoy 관련 기능을 자동으로 잠급니다.** 이는 추가 요청으로 차단이 더 길어지는 것을 방지하기 위한 조치입니다.

- 잠금 상태는 프로그램을 껐다 켜도 유지됩니다
- 잠금이 해제되는 시간이 화면에 표시됩니다
- 24시간이 지나면 자동으로 다시 사용할 수 있습니다

> **왜 24시간이나 잠그나요?**
>
> 개발 과정에서 차단이 발생한 뒤 대기 시간이 지났다고 판단하여 다시 요청을 보냈더니, 그 요청 자체가 추가 시도로 인식되어 차단이 계속 연장된 경험이 있었습니다. 결국 24시간 동안 gnjoy 아이템 검색을 사용하지 못했습니다.
>
> 이런 상황을 방지하기 위해, 차단이 감지되면 **충분한 시간 동안 요청을 완전히 멈추도록** 설계했습니다. 조금 불편하더라도, 충분히 기다린 뒤 사용하는 것이 더 안전합니다.

### 의상 데이터 "자동 수집" 기능

의상검색 탭에서 **"자동 수집"** 버튼을 누르면, 수집 완료 후 **5분마다 자동으로 다시 수집**합니다. 두 번째 수집부터는 이전에 수집한 아이템의 상세정보를 기억하고 있어, **새로 올라온 아이템만 상세정보를 요청**합니다. 덕분에 첫 수집은 약 54분이 걸리지만, 이후에는 약 6분이면 전체 갱신이 완료됩니다.

- 프로그램을 껐다 켜도 이전에 수집한 데이터가 남아있어, 바로 자동 수집을 이어갈 수 있습니다
- 자동 수집이 반복될 때마다 현재 노점에 없는 매물은 자동으로 제거됩니다
- 다른 탭으로 이동하면 수집이 일시정지되고, 의상검색 탭으로 돌아오면 자동으로 재개됩니다

> 의상검색은 빠른 정보 갱신보다 **안정적인 동작**을 우선으로 설계되었습니다. 요청 속도를 높이면 차단 위험이 커지기 때문에, 시간이 걸리더라도 안전하게 수집합니다.

### 왜 웹 사이트가 아닌 프로그램인가요?

의상 노점 검색을 웹 사이트로 제공하려면, 서버 한 대가 gnjoy에 주기적으로 요청을 보내서 데이터를 수집해야 합니다. 그런데 위에서 설명한 것처럼 첫 수집에만 **약 54분**이 걸리고, 이후에도 약 6분이 필요합니다. 여기에 사용자 수만큼 서버 수집량이 늘어나면 차단 위험이 급격히 높아집니다.

요청 간격을 줄이면 차단당하고, 간격을 유지하면 갱신이 안 되는 딜레마에 빠지게 됩니다.

실제로 과거에 의상 노점 검색을 제공했던 웹 사이트들이 서비스를 중단한 것도 **이런 요청 제한 문제가 원인이었을 가능성**이 있습니다.

이 프로그램은 **여러분의 컴퓨터에서 직접 요청을 보내는 방식**이기 때문에, 서버 한 곳에 요청이 집중되는 문제를 피할 수 있습니다. 다만 그만큼 수집에 시간이 걸리고, 각자 차단 위험을 관리해야 하는 점은 양해 부탁드립니다.

---

## 3. 사용 시 참고사항

- **프로그램을 여러 개 동시에 실행하지 마세요.** 요청이 두 배로 늘어나 차단 위험이 높아집니다.
- **모니터링 자동갱신 주기는 너무 짧게 설정하지 마세요.** 5분 이상을 권장합니다.
- **의상 자동 수집 중에는 다른 gnjoy 관련 기능 사용을 자제해 주세요.** 다른 탭으로 이동하면 수집이 일시정지되며, 의상검색 탭으로 돌아오면 자동으로 재개됩니다.
- **차단이 발생하면 조급해하지 마세요.** 24시간 후 자동으로 풀립니다. 차단 중에 반복 시도하면 차단이 더 길어질 수 있습니다.

---

## 4. 배포 관련 안내

본 프로그램은 **곰곰2Q** 님의 팬카페를 통해 공유되고 있으며, 게시 승인을 받았습니다. 단, 곰곰2Q 님은 본 프로그램의 개발 및 운영과 **어떠한 연관도 없으며**, 본 프로그램의 사용으로 인해 발생하는 문제에 대해 **법적 책임을 포함한 어떠한 책임도 지지 않습니다.**

프로그램 관련 문의는 개발자에게 직접 연락해 주세요.
